#### SpringCloud和Dubbo

            Dubbo:底层RPC 调用
            SpringCloud : 底层REST调用（HTTP）
            SpringCloud 能够为项目架构直接提供一整套解决方案。
            Dubbo只能作为项目架构的核心和基石，完整的项目架构解决方案还需要借助其他技术。
#### SpringCloud核心组件
* Eureka: 服务启动时,EurekaClient会将服务注册到EurekaService,并且EurakeClient可以从EurekaService拉去注册表,获取服务地址信息.
* Feign：发起请求如果你对某个接口定义了@FeignClient注解，Feign就会针对这个接口创建一个动态代理，如果你要是调用哪个服务的接口，会调用Feign创建的动态代理
Feign的动态代理会根据你在接口上的@RequestMapping等注解，来动态构造出你要请求的服务的地址，最后针对这个地址，发起请求、解析响应。
* Ribbon：发起请求的时候,Ribbon会从Eureka Client里面获取到对应的服务注册表，知道服务都部署在了那些机器上,监听哪些端口,基于Ribbon做到负载均衡,使用默认的Round Robin算法从多个机器中选择一台。<br/>
![ ](/img/20190221210238503.png)
* Hystrix: Hystrix是隔离、熔断以及降级的一个框架.发起的请求是通过Hystrix的线程池来走,不同的服走不同的线程池,实现了不同的服务调度隔离,避免服务雪崩的问题
比如在5分钟内请求某个服务直接就返回了，不要去走网络请求卡住几秒钟，这个过程，就是所谓的熔断。降级：每次调用某个服务，你就在数据库里记录一条消息，说给某某用户增加了多少金额等等相关数据，因为支付服务挂了，导致没操作成功！这样等服务恢复了，可以根据这些记录人工或者写个定时任务操作一下。这个过程，就是所谓的降级。
* Zuul：微服务网关,负责网络路由。<br/>
什么事网络路由?<br/>
一般微服务架构中都必然会设计一个网关在里面，像android、ios、pc前端、微信小程序、H5等等，不用去关心后端有几百个服务，就知道有一个网关，所有请求都往网关走，网关会根据请求中的一些特征，将请求转发给后端的各个服务。而且有一个网关之后，还有很多好处，比如可以做统一的降级、限流、认证授权、安全，等等。<br>
![](/img/20201110213735717.png)
