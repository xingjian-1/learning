#### 单例模式
单例模式，对象只创建一次，节省系统开销，一种是饿汉式，就是在类初始化的时候，创建对象，这种方式是线程安全的，在程序运行期间就这一个对象。另一种是懒汉式，懒汉式是在第一次使用时才创建对象，但是如果在多线程环境中要考虑线程安全问题。
* 饿汉式：不会存在线程安全问题

        public class Singleton {
            private static volatile Singleton s = new Singleton();//保证 instance 在所有线程中同步

            private Singleton() {//private 避免类在外部被实例化
            }

            private static Singleton getInstance() {
                return s;
            }
        }
* 懒汉式：

            /**
             * 
             * @Description 懒汉式 write by xj on date 2021/2/4
             */
            public class Singleton {
                private static Singleton s;

                private Singleton() {
                    System.out.println("剑圣盖聂");
                }

                // 线程不安全
                private static Singleton getInstance() {
                    if (null == s) {
                        s = new Singleton();
                    }
                    return s;
                }

                // 线程安全的
                private static Singleton getInstance1() {
                    synchronized (Singleton.class) {
                        if (null == s) {
                            s = new Singleton();
                        }
                    }
                    return s;
                }

                // 测试类
                public static void main(String[] args) {
                    // 创建20个线程1000个请求去调用单例模式懒汉式创建对象的方法，来验证线程安全问题
                    ExecutorService threadpool = Executors.newFixedThreadPool(20);
                    for (int i = 0; i < 1000000; i++) {
                        threadpool.execute(new Runnable() {
                            public void run() {
                                System.out.println(Thread.currentThread().getName() + ":" + getInstance().hashCode());
                            }
                        });
                    }
                }
            }
